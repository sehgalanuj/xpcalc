<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XP Status Calculator</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background-color: #f4f7f6;
    margin: 0;
    padding: 20px;
    color: #333;
  }

  .container {
    max-width: 800px;
    margin: auto;
    background: #fff;
    padding: 20px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
  }

  h2 {
    text-align: center;
    color: #0275d8;
  }

  .instructions {
      color: #555;
      background-color: #e7e7e7;
      padding: 1rem;
      border-radius: 4px;
      margin-bottom: 1rem;
  }

  .disclaimer {
      font-size: 0.75rem; /* Small text size */
      text-align: center;
      margin-top: 2rem;
      color: #666;
  }
  
  label {
    margin-top: 20px;
    color: #555;
  }

  input[type="number"] {
    width: calc(100% - 22px);
    padding: 10px;
    margin-top: 5px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 16px;
    line-height: 1.5;
  }

  button {
    width: 100%;
    padding: 15px;
    border: none;
    background-color: #0275d8;
    color: white;
    border-radius: 5px;
    margin-top: 20px;
    font-size: 18px;
    cursor: pointer;
  }

  button:hover, button:focus {
    background-color: #025aa5;
    outline: none;
  }

  .result-section {
    background-color: #e1ecef;
    border-left: 5px solid #0275d8;
    padding: 20px;
    margin-top: 20px;
    border-radius: 5px;
  }

  .result-section h3 {
    color: #0275d8;
  }

  .result-section p {
    font-size: 16px;
    line-height: 1.6;
    color: #555;
  }

  .bold {
    font-weight: bold;
  }

  /* Additional responsive design */
  @media (max-width: 768px) {
    body {
      padding: 10px;
    }
    .container {
      padding: 10px;
    }
  }
</style>
</head>
<body>

<div class="container">
  <h2>XP Status Calculator</h2>

  <div class="instructions">
    <p><strong>How to use?</strong></p>
    <p>In the <i>Enter XP</i> box, provide the number of XP you expect to have on the first qualification date within the transition year (01 Nov 2024 to 31 Oct 2025). For example, if your first re-qualification within the transition period will happen on 01 Oct 2025, and you expect to have 901 XP on this date, then enter 901 in this box.</p>
    <p>In the <i>Years towards PFL</i> enter the number of levels you would have already accumulated until the day before your first qualification date within the transition year. For example, if your first re-qualification date within the transition period is 01 Oct 2025, then you should enter the number of levels you will have on 30 Sep 2025. If you normally expect to become 8 levels on 01 Oct 2025 in this example, then enter 7 because that is what the counter will be on 30 Sep 2025.</p>
    <p>Then click <i>Calculate Status</i>.</p>
  </div>

  <label for="xp">Enter XP:</label>
  <input type="number" id="xp" name="xp" value="0" min="0">
  <p>
  <label for="years">Years towards PFL:</label>
  <input type="number" id="years" name="years" value="0" min="0">

  <button onclick="calculateStatus()">Calculate Status</button>

  <div class="result-section" id="result"></div>

  <div class="disclaimer">
    This calculator is for information and simulation purposes only, based on the best information available and interpretation possible based on the Flying Blue website and FlyerTalk forum. This is not advice, and the information provided is not binding in any way.
  </div>

</div>

<script>
function calculateStatus() {
  var xp = document.getElementById('xp').value;
  var years = document.getElementById('years').value;

  var initialXP = xp;
  var rolloverXP = 0;
  var forfeitXP = 0;
  var steps = "";

    steps += "<ul>"
  if (xp >= 300) {
    xp -= 300;
    years++;
    steps += "<li>Deducted 300 XP for this year's qualification. Years towards platinum for life is now " + years + ".<p></li>";
  }

  if (xp >= 300) {
    rolloverXP = 300;
    xp -= 300;
    steps += "<li>Deducted another 300 XP for next year's rollover, leaving " + xp + " XP.<p></li>";
  } else {
    rolloverXP = xp;
    xp = 0;
    summary += "<li>Next year's rollover, " + rolloverXP + " XP.<p></li>";    
  }

  i = 0;
  while (xp >= 300) {
    years++;
    xp -= 300;
    i += 1;
  }

  if (i > 0) {
      convertedXP = i * 300;
      steps += "<li>Converted multiples of 300 XP, i.e. " + convertedXP + " XP to additional year(s) towards Platinum for Life. Total years now " + years + ".<p></li>";
  }


  forfeitXP = xp;
  steps += "<li>Forfeited remaining " + forfeitXP + " XP, as it's less than a multiple of 300 and cannot be rolled over or converted.<p></li>";

  if (years >= 10) {
      document.getElementById('result').innerHTML = steps + "<h3 class='bold'>Summary:</h3><p>Initial XP: " + initialXP + "</p><p>Rolled over XP for next year: " + rolloverXP + "</p><p>Total years towards Platinum for Life: " + years + "</p><p>Forfeited XP: " + forfeitXP + "</p><p><b>You have at least 10 years in your PFL counter, so you will immediately qualify for PFL on your first qualification date within the transition period.</b></p>";
  } else {
      moreYears = 10 - years;
      moreEarn = 300 - rolloverXP;
      document.getElementById('result').innerHTML = steps + "<h3 class='bold'>Summary:</h3><p>Initial XP: " + initialXP + "</p><p>Rolled over XP for next year: " + rolloverXP + "</p><p>Total years towards Platinum for Life: " + years + "</p><p>Forfeited XP: " + forfeitXP + "</p><p><b>You will have " + years + " years in your PFL counter, and will need to re-qualify " + moreYears + " time(s) before you earn PFL. You will start your following year with " + rolloverXP + " XP already in your account.</b></p><p><b>You will need to earn " + moreEarn + " XP in the following year to remain platinum once again.</b></p>";
  }
}
</script>

</body>
</html>
